<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>CS61C项目笔记(四)-proj3-构建CPU流水线 | 云泥小窝</title><meta name="author" content="xxMudCloudxx"><meta name="copyright" content="xxMudCloudxx"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="今天是 24·10·21 日，时隔 1 个月重新开始完成 proj3 这个大项目，该项目主要是构建 CPU 流水线，我之前写到 partA 的 task3 的时候就停了，这次从 task3 开始写。 在 partA 中，我们已经实现了针对 addi 指令的 CPU，在 partB 中主要实现一个可以完成对多种类型指令进行处理的 CPU。具体来说，在这个部分我们需要实现 I 型、R 型、B 型、lo">
<meta property="og:type" content="article">
<meta property="og:title" content="CS61C项目笔记(四)-proj3-构建CPU流水线">
<meta property="og:url" content="http://bailog.top/2024/10/22/C-%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-4-CS61C%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-proj3-%E6%9E%84%E5%BB%BACPU%E6%B5%81%E6%B0%B4%E7%BA%BF/index.html">
<meta property="og:site_name" content="云泥小窝">
<meta property="og:description" content="今天是 24·10·21 日，时隔 1 个月重新开始完成 proj3 这个大项目，该项目主要是构建 CPU 流水线，我之前写到 partA 的 task3 的时候就停了，这次从 task3 开始写。 在 partA 中，我们已经实现了针对 addi 指令的 CPU，在 partB 中主要实现一个可以完成对多种类型指令进行处理的 CPU。具体来说，在这个部分我们需要实现 I 型、R 型、B 型、lo">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://bailog.top/img/but/006.jpg">
<meta property="article:published_time" content="2024-10-21T17:09:39.000Z">
<meta property="article:modified_time" content="2024-10-21T17:36:01.559Z">
<meta property="article:author" content="xxMudCloudxx">
<meta property="article:tag" content="体系结构">
<meta property="article:tag" content="CS61C">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://bailog.top/img/but/006.jpg"><link rel="shortcut icon" href="/img/ico/%E5%9C%A3%E8%AF%9E%E6%A0%91.png"><link rel="canonical" href="http://bailog.top/2024/10/22/C-%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-4-CS61C%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-proj3-%E6%9E%84%E5%BB%BACPU%E6%B5%81%E6%B0%B4%E7%BA%BF/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-right"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'CS61C项目笔记(四)-proj3-构建CPU流水线',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-10-22 01:36:01'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/cat.css"><div id="myscoll"></div><!-- hexo injector head_end start --><link rel="stylesheet" href="https://unpkg.zhimg.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/ico/avatar_1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">66</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">24</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/diary"><i class="fa-fw fas fa-book"></i><span> 日记</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="云泥小窝"><span class="site-name">云泥小窝</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/diary"><i class="fa-fw fas fa-book"></i><span> 日记</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">CS61C项目笔记(四)-proj3-构建CPU流水线</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-10-21T17:09:39.000Z" title="发表于 2024-10-22 01:09:39">2024-10-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-21T17:36:01.559Z" title="更新于 2024-10-22 01:36:01">2024-10-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/">体系结构</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/CS61C/">CS61C</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/CS%E8%87%AA%E5%AD%A6%E7%AC%94%E8%AE%B0/">CS自学笔记</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/CS%E8%87%AA%E5%AD%A6%E7%AC%94%E8%AE%B0/CS61C/">CS61C</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">1.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>6分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="CS61C项目笔记(四)-proj3-构建CPU流水线"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="post-content" id="article-container"><p>今天是 24·10·21 日，时隔 1 个月重新开始完成 proj3 这个大项目，该项目主要是构建 CPU 流水线，我之前写到 partA 的 task3 的时候就停了，这次从 task3 开始写。</p>
<p>在 partA 中，我们已经实现了针对 addi 指令的 CPU，在 partB 中主要实现一个可以完成对多种类型指令进行处理的 CPU。具体来说，在这个部分我们需要实现 I 型、R 型、B 型、load&amp;store、jump&amp;U 型指令。在实验中这几个部分被分为不同的五个任务，但是它们之间有一些相同的部分，比如数据通路和控制逻辑，所以完全可以按照不同的模板来进行实现，而不是根据任务划分多次分步实现。</p>
<h1 id="关于-part-A"><a href="#关于-part-A" class="headerlink" title="关于 part A"></a>关于 part A</h1><p>Part A 分为三个部分：</p>
<ul>
<li>实现 Arithmetic Logic Unit (ALU)</li>
<li>实现 Register File (RegFile)</li>
<li>实现 The <code>addi</code> Instruction</li>
</ul>
<h2 id="ALU"><a href="#ALU" class="headerlink" title="ALU"></a>ALU</h2><p>任务要求：</p>
<table>
<thead>
<tr>
<th>Input Name</th>
<th>Bit Width</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td>A</td>
<td>32</td>
<td align="left">Data to use for Input A in the ALU operation</td>
</tr>
<tr>
<td>B</td>
<td>32</td>
<td align="left">Data to use for Input B in the ALU operation</td>
</tr>
<tr>
<td>ALUSel</td>
<td>4</td>
<td align="left">Selects which operation the ALU should perform (see the list of operations with corresponding switch values below)</td>
</tr>
</tbody></table>
<p>关于 ALUSel</p>
<p>| Switch Value | Instruction                              |<br>| ———— | :————————————— | — |<br>| 0            | add: <code>Result = A + B</code>                    |<br>| 1            | and: <code>Result = A &amp; B</code>                    |<br>| 2            | or: <code>Result = A                          | B</code>  |<br>| 3            | xor: <code>Result = A ^ B</code>                    |<br>| 4            | srl: <code>Result = (unsigned) A &gt;&gt; B</code>        |<br>| 5            | sra: <code>Result = (signed) A &gt;&gt; B</code>          |<br>| 6            | sll: <code>Result = A &lt;&lt; B</code>                   |<br>| 7            | slt: <code>Result = (A &lt; B (signed)) ? 1 : 0</code> |<br>| 8            | Unused                                   |<br>| 9            | Unused                                   |<br>| 10           | mul: <code>Result = (signed) (A * B)[31:0]</code>   |<br>| 11           | mulhu: <code>Result = (A * B)[63:32]</code>         |<br>| 12           | sub: <code>Result = A - B</code>                    |<br>| 13           | bsel: <code>Result = B</code>                       |<br>| 14           | mulh: <code>Result = (signed) (A * B)[63:32]</code> |</p>
<p>我的实现：</p>
<p><img src="/2024/10/22/C-%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-4-CS61C%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-proj3-%E6%9E%84%E5%BB%BACPU%E6%B5%81%E6%B0%B4%E7%BA%BF/image-20241022011425739.png" alt="image-20241022011425739"></p>
<h2 id="RegFile"><a href="#RegFile" class="headerlink" title="RegFile"></a>RegFile</h2><p>正如您在课堂上学到的那样，RISC-V 架构有 32 个寄存器。对于这个项目，<strong>我们将实现所有这些</strong>。为了帮助调试，<strong>我们编写了 regfile 来公开下面指定的 9 个端口</strong>。请确保这些 register 的值附加到正确的 outputs。</p>
<p>您的 RegFile 应该能够写入或读取给定 RISC-V 指令中指定的这些寄存器，而不会影响任何其他寄存器。有一个值得注意的例外：即使指令尝试，您的 RegFile 也不应写入 x0。请记住，零寄存器的值应始终为 0x0。您不应在 RegFile 中的任何位置对时钟进行门控：时钟信号应始终直接连接到寄存器的时钟输入，而无需通过任何组合逻辑。</p>
<table>
<thead>
<tr>
<th>Register Number</th>
<th>Register Name</th>
</tr>
</thead>
<tbody><tr>
<td>x0</td>
<td>x0</td>
</tr>
<tr>
<td>x1</td>
<td>ra</td>
</tr>
<tr>
<td>x2</td>
<td>sp</td>
</tr>
<tr>
<td>x5</td>
<td>t0</td>
</tr>
<tr>
<td>x6</td>
<td>t1</td>
</tr>
<tr>
<td>x7</td>
<td>t2</td>
</tr>
<tr>
<td>x8</td>
<td>s0</td>
</tr>
<tr>
<td>x9</td>
<td>s1</td>
</tr>
<tr>
<td>x10</td>
<td>a0</td>
</tr>
</tbody></table>
<p>The register file circuit has six inputs:</p>
<table>
<thead>
<tr>
<th>Input Name</th>
<th>Bit Width</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td>Clock</td>
<td>1</td>
<td align="left">Input providing the clock. This signal can be sent into subcircuits or attached directly to the clock inputs of memory units in Logisim, but should not otherwise be gated (i.e., do not invert it, do not “and” it with anything, etc.).</td>
</tr>
<tr>
<td>RegWEn</td>
<td>1</td>
<td align="left">Determines whether data is written to the register file on the next rising edge of the clock.</td>
</tr>
<tr>
<td>Read Register 1 (rs1)</td>
<td>5</td>
<td align="left">Determines which register’s value is sent to the Read Data 1 output, see below.</td>
</tr>
<tr>
<td>Read Register 2 (rs2)</td>
<td>5</td>
<td align="left">Determines which register’s value is sent to the Read Data 2 output, see below.</td>
</tr>
<tr>
<td>Write Register (rd)</td>
<td>5</td>
<td align="left">Determines which register to set to the value of Write Data on the next rising edge of the clock, assuming that RegWEn is a 1.</td>
</tr>
<tr>
<td>Write Data (wb)</td>
<td>32</td>
<td align="left">Determines what data to write to the register identified by the Write Register input on the next rising edge of the clock, assuming that RegWEn is 1.</td>
</tr>
</tbody></table>
<p>The register file also has the following outputs:</p>
<table>
<thead>
<tr>
<th>Output Name</th>
<th>Bit Width</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td>rs1</td>
<td>32</td>
<td align="left">Driven with the value of the register identified by the Read Register 1 input.</td>
</tr>
<tr>
<td>rs2</td>
<td>32</td>
<td align="left">Driven with the value of the register identified by the Read Register 2 input.</td>
</tr>
<tr>
<td><code>ra</code> Value</td>
<td>32</td>
<td align="left">Always driven with the value of <code>ra</code> (This is a DEBUG&#x2F;TEST output.)</td>
</tr>
<tr>
<td><code>sp</code> Value</td>
<td>32</td>
<td align="left">Always driven with the value of <code>sp</code> (This is a DEBUG&#x2F;TEST output.)</td>
</tr>
<tr>
<td><code>t0</code> Value</td>
<td>32</td>
<td align="left">Always driven with the value of <code>t0</code> (This is a DEBUG&#x2F;TEST output.)</td>
</tr>
<tr>
<td><code>t1</code> Value</td>
<td>32</td>
<td align="left">Always driven with the value of <code>t1</code> (This is a DEBUG&#x2F;TEST output.)</td>
</tr>
<tr>
<td><code>t2</code> Value</td>
<td>32</td>
<td align="left">Always driven with the value of <code>t2</code> (This is a DEBUG&#x2F;TEST output.)</td>
</tr>
<tr>
<td><code>s0</code> Value</td>
<td>32</td>
<td align="left">Always driven with the value of <code>s0</code> (This is a DEBUG&#x2F;TEST output.)</td>
</tr>
<tr>
<td><code>s1</code> Value</td>
<td>32</td>
<td align="left">Always driven with the value of <code>s1</code> (This is a DEBUG&#x2F;TEST output.)</td>
</tr>
<tr>
<td><code>a0</code> Value</td>
<td>32</td>
<td align="left">Always driven with the value of <code>a0</code> (This is a DEBUG&#x2F;TEST output.)</td>
</tr>
</tbody></table>
<p>我的实现</p>
<p><img src="/2024/10/22/C-%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-4-CS61C%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-proj3-%E6%9E%84%E5%BB%BACPU%E6%B5%81%E6%B0%B4%E7%BA%BF/image-20241022011842802.png" alt="image-20241022011842802"></p>
<h1 id="关于-part-B"><a href="#关于-part-B" class="headerlink" title="关于 part B"></a>关于 part B</h1><p>part B 被分为几个细小的任务</p>
<h2 id="Branch-Comparator-的实现"><a href="#Branch-Comparator-的实现" class="headerlink" title="Branch Comparator 的实现"></a>Branch Comparator 的实现</h2><table>
<thead>
<tr>
<th>Signal Name</th>
<th>Direction</th>
<th>Bit Width</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td>rs1</td>
<td>Input</td>
<td>32</td>
<td align="left">Value in the first register to be compared</td>
</tr>
<tr>
<td>rs2</td>
<td>Input</td>
<td>32</td>
<td align="left">Value in the second register to be compared</td>
</tr>
<tr>
<td>BrUn</td>
<td>Input</td>
<td>1</td>
<td align="left">Equal to one when an unsigned comparison is wanted, or zero when a signed comparison is wanted</td>
</tr>
<tr>
<td>BrEq</td>
<td>Output</td>
<td>1</td>
<td align="left">Equal to one if the two values are equal</td>
</tr>
<tr>
<td>BrLt</td>
<td>Output</td>
<td>1</td>
<td align="left">Equal to one if the value in rs1 is less than the value in rs2</td>
</tr>
</tbody></table>
<p><img src="/2024/10/22/C-%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-4-CS61C%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-proj3-%E6%9E%84%E5%BB%BACPU%E6%B5%81%E6%B0%B4%E7%BA%BF/image-20241022012114625.png" alt="image-20241022012114625"></p>
<h2 id="Imm-Generator-的实现"><a href="#Imm-Generator-的实现" class="headerlink" title="Imm Generator 的实现"></a>Imm Generator 的实现</h2><table>
<thead>
<tr>
<th>Signal Name</th>
<th>Direction</th>
<th>Bit Width</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td>inst</td>
<td>Input</td>
<td>32</td>
<td align="left">The instruction being executed</td>
</tr>
<tr>
<td>ImmSel</td>
<td>Input</td>
<td>3</td>
<td align="left">Value determining how to reconstruct the immediate</td>
</tr>
<tr>
<td>imm</td>
<td>Output</td>
<td>32</td>
<td align="left">Value of the immediate in the instruction</td>
</tr>
</tbody></table>
<p><img src="/2024/10/22/C-%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-4-CS61C%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-proj3-%E6%9E%84%E5%BB%BACPU%E6%B5%81%E6%B0%B4%E7%BA%BF/image-20241022012250914.png" alt="image-20241022012250914"></p>
<h2 id="目前我卡在-Control-Logic"><a href="#目前我卡在-Control-Logic" class="headerlink" title="目前我卡在 Control Logic"></a>目前我卡在 Control Logic</h2><p>该文档将重点记录我实现往后的思路</p>
<h3 id="10·21"><a href="#10·21" class="headerlink" title="10·21"></a>10·21</h3><p><img src="/2024/10/22/C-%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-4-CS61C%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-proj3-%E6%9E%84%E5%BB%BACPU%E6%B5%81%E6%B0%B4%E7%BA%BF/image-20241022012452360.png" alt="image-20241022012452360"></p>
<p>这是 CPU 的 DataPath，目前我在电路模拟中所画的电路图如下:</p>
<p><img src="/2024/10/22/C-%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-4-CS61C%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-proj3-%E6%9E%84%E5%BB%BACPU%E6%B5%81%E6%B0%B4%E7%BA%BF/image-20241022012656315.png" alt="image-20241022012656315"></p>
<blockquote>
<p>我的 DMEM 还没有体现在这里</p>
</blockquote>
<p>指南中推荐的方法有：</p>
<ul>
<li><strong>hard-wired control</strong>,<strong>硬连线控制</strong>，如讲座中所述，这通常是 MIPS 和 RISC-V 等 RISC 架构的首选方法。硬连线控制使用 “AND”、“OR” 和 “NOT” 门（以及我们学到的可以从这些门构建的各种组件，如 MUX 和 DEMUX）来产生适当的控制信号。<strong>指令解码器</strong>接收一条指令并输出该指令的所有控制信号。</li>
<li>另一种方法是使用 <strong>ROM 控制</strong>。处理器实现的每条指令都映射到只读存储器 （ROM） 单元中的地址。ROM 中该地址的 address 是该指令的控制字。<strong>地址解码器</strong>接收一条指令并输出该指令的控制字地址。这种方法在 Intel 的 x86-64 等 CISC 架构中很常见，并且在现实生活中提供了一些灵活性，因为它可以通过更改 ROM 的内容来重新编程。</li>
</ul>
<p>我将使用 ROM 控制</p>
<h4 id="关于-ROM-控制"><a href="#关于-ROM-控制" class="headerlink" title="关于 ROM 控制"></a>关于 ROM 控制</h4><p>ROM 相关讲座在 Lec20 当中</p>
<p><img src="/2024/10/22/C-%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-4-CS61C%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-proj3-%E6%9E%84%E5%BB%BACPU%E6%B5%81%E6%B0%B4%E7%BA%BF/image-20241022013003371.png" alt="image-20241022013003371"></p>
<p><img src="/2024/10/22/C-%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-4-CS61C%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-proj3-%E6%9E%84%E5%BB%BACPU%E6%B5%81%E6%B0%B4%E7%BA%BF/image-20241022012952513.png" alt="image-20241022012952513"></p>
<p>以上是 ROM 的工作原理，以 add 指令为例子</p>
<p><img src="/2024/10/22/C-%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-4-CS61C%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-proj3-%E6%9E%84%E5%BB%BACPU%E6%B5%81%E6%B0%B4%E7%BA%BF/image-20241022013033709.png" alt="image-20241022013033709"></p>
<h4 id="目前资料"><a href="#目前资料" class="headerlink" title="目前资料"></a>目前资料</h4><h5 id="ROM-Control-Logic-表格"><a href="#ROM-Control-Logic-表格" class="headerlink" title="ROM Control Logic 表格"></a>ROM Control Logic 表格</h5><p><img src="/2024/10/22/C-%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-4-CS61C%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-proj3-%E6%9E%84%E5%BB%BACPU%E6%B5%81%E6%B0%B4%E7%BA%BF/image-20241022013223786.png" alt="image-20241022013223786"></p>
<h5 id="Lec20-的-ppt"><a href="#Lec20-的-ppt" class="headerlink" title="Lec20 的 ppt"></a>Lec20 的 ppt</h5>

	<div class="row">
    <embed src="lec20.pdf" width="100%" height="550" type="application/pdf">
	</div>




<h4 id="明天需要做的事情"><a href="#明天需要做的事情" class="headerlink" title="明天需要做的事情"></a>明天需要做的事情</h4><p>完整了解一遍 cpu 数据路径，根据 excel 表格初步确认自己要做什么</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://bailog.top">xxMudCloudxx</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://bailog.top/2024/10/22/C-%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-4-CS61C%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-proj3-%E6%9E%84%E5%BB%BACPU%E6%B5%81%E6%B0%B4%E7%BA%BF/">http://bailog.top/2024/10/22/C-%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-4-CS61C%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-proj3-%E6%9E%84%E5%BB%BACPU%E6%B5%81%E6%B0%B4%E7%BA%BF/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://bailog.top" target="_blank">云泥小窝</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/">体系结构</a><a class="post-meta__tags" href="/tags/CS61C/">CS61C</a></div><div class="post_share"><div class="social-share" data-image="/img/but/006.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/11/01/%E5%89%8D%E7%AB%AF-1-%E5%89%8D%E7%AB%AF%E6%A0%88%E5%AD%A6%E4%B9%A0-%E5%88%9D%E8%AF%86HTML%E3%80%81CSS%E3%80%81JS%E4%B8%89%E5%A4%A7%E4%BB%B6/" title="1-前端栈学习-初识HTML、CSS、JS三大件"><img class="cover" src="/img/but/006.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">1-前端栈学习-初识HTML、CSS、JS三大件</div></div></a></div><div class="next-post pull-right"><a href="/2024/09/08/C-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-12-CS61C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Pipelining/" title="12-CS61C学习笔记-Pipelining"><img class="cover" src="/img/background/season2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">12-CS61C学习笔记-Pipelining</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2024/04/13/C-%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-1-CS61C%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-Lab1-%E7%BC%96%E8%AF%91%E8%B0%83%E8%AF%95%E5%88%9D%E4%BD%93%E9%AA%8C/" title="CS61C项目笔记(一)-Lab1-编译调试初体验"><img class="cover" src="/img/but/004.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-13</div><div class="title">CS61C项目笔记(一)-Lab1-编译调试初体验</div></div></a></div><div><a href="/2024/04/07/C-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-1-CS61C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E6%95%B0%E5%AD%97%E8%A1%A8%E7%A4%BA%E6%B3%95/" title="CS61C学习笔记(一)-数字表示法"><img class="cover" src="/img/but/017.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-07</div><div class="title">CS61C学习笔记(一)-数字表示法</div></div></a></div><div><a href="/2024/09/08/C-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-10-CS61C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-SingleCycleCPU-Datapath/" title="CS61C学习笔记-SingleCycleCPU_Datapath(十)"><img class="cover" src="/img/but/017.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-08</div><div class="title">CS61C学习笔记-SingleCycleCPU_Datapath(十)</div></div></a></div><div><a href="/2024/04/23/C-%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-2-CS61C%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0-Lab3-RISCV-Assembly/" title="CS61C项目笔记(二)-Lab3-RISCV-Assembly"><img class="cover" src="/img/but/016.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-23</div><div class="title">CS61C项目笔记(二)-Lab3-RISCV-Assembly</div></div></a></div><div><a href="/2024/09/08/C-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-11-CS61C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-SingleCycleCPU-Control/" title="11-CS61C学习笔记-SingleCycleCPU_Control"><img class="cover" src="/img/but/013.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-08</div><div class="title">11-CS61C学习笔记-SingleCycleCPU_Control</div></div></a></div><div><a href="/2024/09/08/C-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-12-CS61C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Pipelining/" title="12-CS61C学习笔记-Pipelining"><img class="cover" src="/img/background/season2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-08</div><div class="title">12-CS61C学习笔记-Pipelining</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/ico/avatar_1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">xxMudCloudxx</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">66</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">24</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxMudCloudxx"><i class="fab fa-github"></i><span>中国矿业大学本科生 23级</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xxMudCloudxx" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:2597453011@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到bai的小屋</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E-part-A"><span class="toc-number">1.</span> <span class="toc-text">关于 part A</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ALU"><span class="toc-number">1.1.</span> <span class="toc-text">ALU</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RegFile"><span class="toc-number">1.2.</span> <span class="toc-text">RegFile</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E-part-B"><span class="toc-number">2.</span> <span class="toc-text">关于 part B</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Branch-Comparator-%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.1.</span> <span class="toc-text">Branch Comparator 的实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Imm-Generator-%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.2.</span> <span class="toc-text">Imm Generator 的实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%89%8D%E6%88%91%E5%8D%A1%E5%9C%A8-Control-Logic"><span class="toc-number">2.3.</span> <span class="toc-text">目前我卡在 Control Logic</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10%C2%B721"><span class="toc-number">2.3.1.</span> <span class="toc-text">10·21</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E-ROM-%E6%8E%A7%E5%88%B6"><span class="toc-number">2.3.1.1.</span> <span class="toc-text">关于 ROM 控制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%AE%E5%89%8D%E8%B5%84%E6%96%99"><span class="toc-number">2.3.1.2.</span> <span class="toc-text">目前资料</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#ROM-Control-Logic-%E8%A1%A8%E6%A0%BC"><span class="toc-number">2.3.1.2.1.</span> <span class="toc-text">ROM Control Logic 表格</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Lec20-%E7%9A%84-ppt"><span class="toc-number">2.3.1.2.2.</span> <span class="toc-text">Lec20 的 ppt</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%8E%E5%A4%A9%E9%9C%80%E8%A6%81%E5%81%9A%E7%9A%84%E4%BA%8B%E6%83%85"><span class="toc-number">2.3.1.3.</span> <span class="toc-text">明天需要做的事情</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2024 By xxMudCloudxx</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"></div><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer data-pjax src="/js/cat.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="20" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="http://bailog.top/categories/C/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📚 C++笔记 (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="http://bailog.top/categories/CS自学笔记/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🎮 CS自学笔记 (49)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="http://bailog.top/categories/体系结构/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🐱‍👓 体系结构学习笔记 (15)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="http://bailog.top/categories/JAVA/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🐱‍👓 Java学习笔记 (32)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="http://bailog.top/categories/有趣の文章/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📒 有趣の文章 (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item" style="visibility: hidden"></div><a class="magnet_link_more"  href="http://bailog.top/categories" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';
    console.log('已挂载magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(50% - 5px);background: #f2f2f2;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: #69e8f2}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v6.2.0" title=""><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题版本Butterfly_v4.3.1" title=""><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" data-title="本站采用多线部署，主线路托管于Vercel" title=""><img src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://dashboard.4everland.org/" style="margin-inline:5px" data-title="本站采用多线部署，备用线路托管于4EVERLAND" title=""><img src="https://img.shields.io/badge/Hosted-4EVERLAND-22DDDD?style=flat&amp;logo=IPFS" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title=""><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="https://unpkg.zhimg.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.min.js"></script><!-- hexo injector body_end end --></body></html>